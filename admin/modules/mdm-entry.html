<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>.field-group { @apply bg-white p-4 rounded-2xl border border-slate-100 shadow-sm; }</style>
</head>
<body class="bg-slate-50 p-6 font-sans">
    <div class="max-w-4xl mx-auto">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-xl font-black italic uppercase">Daily MDM Consumption Entry</h2>
            <div id="auto-date" class="text-blue-600 font-bold"></div>
        </div>

        <form class="space-y-4">
            <div class="grid grid-cols-2 gap-4">
                <div class="field-group">
                    <label class="text-[10px] font-bold uppercase text-slate-400">On Roll Primary</label>
                    <input type="number" id="rollP" class="w-full text-lg font-bold outline-none" value="85">
                </div>
                <div class="field-group">
                    <label class="text-[10px] font-bold uppercase text-slate-400">Present Primary</label>
                    <input type="number" id="presentP" oninput="calculateMDM()" class="w-full text-lg font-bold outline-none text-emerald-600">
                </div>
            </div>

            <div class="field-group">
                <h3 class="text-[10px] font-black uppercase mb-3 text-blue-500">Rice Stock Management (KG)</h3>
                <div class="grid grid-cols-3 gap-4">
                    <div>
                        <label class="text-[9px] uppercase">Last Balance</label>
                        <input type="number" id="lastRice" class="w-full border-b" value="45.5">
                    </div>
                    <div>
                        <label class="text-[9px] uppercase">Rice Received</label>
                        <input type="number" id="recRice" oninput="calculateMDM()" class="w-full border-b text-blue-600">
                    </div>
                    <div>
                        <label class="text-[9px] uppercase text-red-500 font-bold">Today's Consumption</label>
                        <div id="consRice" class="font-bold">0.00</div>
                    </div>
                </div>
            </div>

            <div class="field-group">
                <h3 class="text-[10px] font-black uppercase mb-3 text-orange-500">Cooking Cost & Funds (₹)</h3>
                <div class="grid grid-cols-3 gap-4">
                    <div>
                        <label class="text-[9px] uppercase">Rate Per Student</label>
                        <input type="number" id="rate" class="w-full border-b" value="5.45">
                    </div>
                    <div>
                        <label class="text-[9px] uppercase">Funds Received</label>
                        <input type="number" id="recFunds" oninput="calculateMDM()" class="w-full border-b">
                    </div>
                    <div>
                        <label class="text-[9px] uppercase text-red-500 font-bold">Today's Liability</label>
                        <div id="consFunds" class="font-bold">₹ 0.00</div>
                    </div>
                </div>
            </div>

            <div class="bg-slate-900 text-white p-6 rounded-[2rem] grid grid-cols-2 gap-4">
                <div>
                    <p class="text-[9px] uppercase opacity-50">Closing Rice Balance</p>
                    <p id="closingRice" class="text-2xl font-black">-- KG</p>
                </div>
                <div>
                    <p class="text-[9px] uppercase opacity-50">Closing Fund Balance</p>
                    <p id="closingFunds" class="text-2xl font-black">₹ --</p>
                </div>
            </div>
            
            <button type="button" class="w-full bg-blue-600 text-white font-bold py-4 rounded-2xl uppercase tracking-widest shadow-lg shadow-blue-200">Save Daily Entry</button>
        </form>
    </div>

    <script>
        // Auto-Generate Month/Date
        const d = new Date();
        document.getElementById('auto-date').innerText = d.toLocaleDateString('en-GB', { day: '2-digit', month: 'long', year: 'numeric' });

        function calculateMDM() {
            const present = parseFloat(document.getElementById('presentP').value) || 0;
            const rate = parseFloat(document.getElementById('rate').value) || 0;
            const lastR = parseFloat(document.getElementById('lastRice').value) || 0;
            const recR = parseFloat(document.getElementById('recRice').value) || 0;
            const recF = parseFloat(document.getElementById('recFunds').value) || 0;

            // Calculations
            const consR = (present * 0.100).toFixed(2); // 100g per student
            const consF = (present * rate).toFixed(2);
            
            const closeR = (lastR + recR - consR).toFixed(2);
            const closeF = (recF - consF).toFixed(2);

            // Update UI
            document.getElementById('consRice').innerText = consR + " KG";
            document.getElementById('consFunds').innerText = "₹ " + consF;
            document.getElementById('closingRice').innerText = closeR + " KG";
            document.getElementById('closingFunds').innerText = "₹ " + closeF;
        }
    </script>
</body>
</html>
