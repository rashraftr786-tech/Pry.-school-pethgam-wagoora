<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APAAR Consent Form | GPS Pethgam</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&display=swap');
        @page { size: A4; margin: 0; }
        body { background-color: #f1f5f9; font-family: 'Times New Roman', serif; margin: 0; padding: 0; }
        .form-page { 
            width: 210mm; height: 297mm; background: white; margin: 10px auto; 
            padding: 8mm 18mm; border: 1px solid #000; position: relative; box-sizing: border-box;
            line-height: 1.45; color: #000;
        }
        .dotted-line { border-bottom: 1px dotted #000; display: inline-block; min-width: 120px; padding: 0 5px; font-weight: bold; }
        @media print { .no-print { display: none; } .form-page { margin: 0; border: none; } }
    </style>
</head>
<body class="pb-20">

    <div class="no-print max-w-5xl mx-auto mt-6 bg-white p-6 rounded-3xl shadow-2xl border-2 border-blue-600 font-sans">
        <h2 class="font-black text-blue-800 uppercase mb-4 text-center text-lg italic underline">APAAR Consent Data Entry</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 bg-slate-50 p-4 rounded-2xl border border-slate-200">
            <input type="text" id="inFormNo" placeholder="Admission Form No." oninput="sync('outFormNoBox', this.value)" class="p-2 border rounded-lg text-xs font-bold">
            <input type="text" id="inParent" placeholder="Parent/Guardian Name" oninput="sync('outParent', this.value); sync('outParent2', this.value)" class="p-2 border rounded-lg text-xs font-bold">
            <select id="inRelation" onchange="sync('outRelation', this.value); sync('outRelation2', this.value)" class="p-2 border rounded-lg text-xs">
                <option value="Father">Father</option><option value="Mother">Mother</option><option value="Legal Guardian">Legal Guardian</option>
            </select>
            <input type="text" id="inStudent" placeholder="Student Name" oninput="sync('outStudent', this.value)" class="p-2 border rounded-lg text-xs font-bold">
            <input type="text" id="inIDType" placeholder="Identity Proof (e.g. Aadhaar)" oninput="sync('outIDType', this.value)" class="p-2 border rounded-lg text-xs">
            <input type="text" id="inIDNum" placeholder="Identity Proof Number" oninput="sync('outIDNum', this.value)" class="p-2 border rounded-lg text-xs">
            <input type="text" id="inDate" placeholder="Date (DD/MM/2025)" oninput="sync('outDate', this.value); sync('outDate2', this.value)" class="p-2 border rounded-lg text-xs">
            <input type="text" id="inPlace" placeholder="Place of Consent" oninput="sync('outPlace', this.value)" class="p-2 border rounded-lg text-xs">
            <input type="text" id="inHoI" placeholder="Head of School Name" oninput="sync('outHoI', this.value)" class="p-2 border rounded-lg text-xs font-bold" value="Mohmad Ashraf Rather">
        </div>

        <div class="flex gap-4 mt-6">
            <button onclick="window.print()" class="flex-1 bg-slate-900 text-white font-black py-3 rounded-xl uppercase text-xs shadow-lg">Print Form</button>
            <button onclick="savePDF()" class="flex-1 bg-blue-700 text-white font-black py-3 rounded-xl uppercase text-xs shadow-lg hover:bg-blue-800 transition-all">Download PDF</button>
        </div>
    </div>

    <div class="form-page" id="apaarTemplate">
        
        <div class="absolute top-8 right-10 text-right">
            <div class="border-2 border-black p-1 bg-white min-w-[80px]">
                <p class="text-[9px] font-black leading-none uppercase font-sans">FORM NO:</p>
                <h3 id="outFormNoBox" class="text-xl font-black tracking-tighter font-sans">250401</h3>
            </div>
        </div>

        <div class="flex items-start gap-4 mb-3 pr-32">
            <img src="../../assets/logo.png" class="w-16 h-16" alt="Logo">
            <div class="flex-1 text-center font-sans">
                <h1 class="text-xl font-black uppercase tracking-tight">GOVERNMENT PRIMARY SCHOOL PETHGAM WAGOORA</h1>
                <p class="text-[12px] font-bold">Wagoora Babareshi Road Near Zonal Education Office Wagoora</p>
                <p class="text-[12px] font-bold">UDISE Code: 01022202207. &nbsp;&nbsp;&nbsp; Zone: Wagoora</p>
            </div>
        </div>

        <h2 class="text-center font-bold underline text-[15px] mb-4 uppercase">Consent by Father/Mother/Legal Guardian of Student for APAAR ID Generation</h2>

        <div class="text-[14px] space-y-4 text-justify">
            <p>
                I <span class="dotted-line" id="outParent">____________________</span> as the <span class="dotted-line" id="outRelation">Father</span> (Father / Mother / Legal Guardian) of <span class="dotted-line" id="outStudent">____________________</span> with my identity proof as <span class="dotted-line" id="outIDType">____________________</span> (Aadhar / PAN / EPIC Voter ID / Driving License / Passport) and identity Proof Number <span class="dotted-line" id="outIDNum">____________________</span> voluntarily give my consent to share his/her Aadhaar Number and demographic information issued by

            <div class="flex justify-between items-end pt-4">
                <p>Date: <span class="dotted-line" id="outDate2">____________________</span></p>
                <div class="text-center">
                    <p class="font-bold">__________________________</p>
                    <p class="italic text-[11px]">Signature of HoI</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        function sync(id, val) {
            const el = document.getElementById(id);
            if (el) el.innerText = val || "__________";
            if (id === 'outStudent') {
                document.getElementById('outStudent2').innerText = val || "____________________";
            }
        }

        function savePDF() {
            const element = document.getElementById('apaarTemplate');
            const student = document.getElementById('inStudent').value || "Student";
            const opt = {
                margin: 0,
                filename: `APAAR_Consent_${student}.pdf`,
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 3, useCORS: true },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };
            html2pdf().set(opt).from(element).save();
        }
    </script>
</body>
</html>
            
